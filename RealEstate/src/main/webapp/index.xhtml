<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" dir="ltr"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f5="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/views/template/makaan-template.xhtml">


	<ui:define name="customStylesheet">

		<link href="/resources/makaan/css/index.css" rel="stylesheet" />

		<h:outputStylesheet>

		</h:outputStylesheet>

	</ui:define>



	<ui:define name="header-start">
		<o:importConstants type="org.RealEstate.enumerator.PostType" />

		<div class="header-container container-fluid header bg-white p-0">
			<div class="row" style="height: 300px"></div>
		</div>
	</ui:define>

	<ui:define name="searchBar">
		<h:panelGroup id="panelSearchBar">
			<div class="container-fluid bg-primary mb-5 wow "
				data-wow-delay="0.1s" style="padding: 15px 5px 5px 5px;">
				<div class="row">
					<div class="col-md-3 col-sm-12 mt-2">
						<h:selectOneMenu styleClass="form-select border-0  "
							converter="omnifaces.SelectItemsConverter"
							value="#{indexController.selectPostType}">
							<f:selectItem itemLabel="Property Type" itemValue="" />
							<f:selectItems value="#{PostType.values()}" var="option"
								itemLabel="#{option.name}" itemValue="#{option}" />
							<f:ajax execute="@this" render="myForm:realSatatebathBedRoomsId" />
						</h:selectOneMenu>
					</div>

					<div class="col-md-3 col-sm-12 mt-2">
						<h:selectOneMenu id="governateSelectId"
							styleClass="form-select border-0 "
							converter="omnifaces.SelectItemsConverter"
							value="#{indexController.selecteGovernorate}">
							<f:selectItem itemLabel="#{bundle.governate}" itemValue="" />
							<f:selectItems value="#{indexController.governorates}"
								var="option" itemLabel="#{option.name}" itemValue="#{option}" />
							<f:ajax execute="@this"
								render="myForm:districtSelectId myForm:villageSelectId"
								listener="#{indexController.listenerSelectGovernate()}" />
						</h:selectOneMenu>
					</div>

					<div class="col-md-3 col-sm-12 mt-2">
						<h:selectOneMenu id="districtSelectId"
							converter="omnifaces.SelectItemsConverter"
							styleClass="form-select border-0  "
							value="#{indexController.selecteDistrict}">
							<f:selectItem itemLabel="#{bundle.discrit}" itemValue="" />
							<f:selectItems value="#{indexController.districts}" var="option"
								itemLabel="#{option.name}" itemValue="#{option}" />
							<f:ajax execute="@this"
								listener="#{indexController.listenerSelectDistrict()}"
								render="myForm:villageSelectId" />
						</h:selectOneMenu>
					</div>
					<div class="col-md-3 col-sm-12 mt-2">
						<h:selectOneMenu id="villageSelectId"
							converter="omnifaces.SelectItemsConverter"
							styleClass="form-select border-0  "
							value="#{indexController.selecteVillage}">
							<f:selectItem itemLabel="#{bundle.village}" itemValue="" />
							<f:selectItems value="#{indexController.villages}" var="option"
								itemLabel="#{option.name}" itemValue="#{option}" />
							<f:ajax execute="@this" />
						</h:selectOneMenu>
					</div>
					<div class="col-md-2 mt-2 col-sm-12">
						<h:outputLabel value="Min Price" style="color:white" />
						<h:inputText onkeypress="return isNumberKey(event)"
							placeholder="min price" styleClass="form-control"
							value="#{indexController.minPrice}">
						</h:inputText>
					</div>
					<div class="col-md-2 mt-2 col-sm-12">
						<h:outputLabel value="Max Price" style="color:white" />
						<h:inputText onkeypress="return isNumberKey(event)"
							placeholder="max price" styleClass="form-control"
							value="#{indexController.maxPrice}">
						</h:inputText>
					</div>

					<h:panelGroup id="realSatatebathBedRoomsId" layout="block"
						styleClass="row col-md-7 mt-2 pr-0">
						<h:panelGroup
							rendered="#{indexController.hasRoomsAndBathRooms(indexController.postType)}">

							<div class="col-md-4 col-sm-12">
								<h:outputLabel value="Bed Rooms Count" style="color:white" />
								<h:inputText onkeypress="return isNumberKey(event)"
									placeholder="max price" styleClass="form-control"
									value="#{indexController.bedRoom}">
								</h:inputText>
							</div>
							<div class="col-md-2 col-sm-12">
								<h:outputLabel value="Exact Value" style="color:white" />
								<span class="form-control search-checkbox"> <h:selectBooleanCheckbox
										value="#{indexController.bedRoomEq}" />
								</span>
							</div>
							<div class="col-md-4 col-sm-12">
								<h:outputLabel value="Bath Rooms Count" style="color:white" />
								<h:inputText placeholder="max price" styleClass="form-control"
									value="#{indexController.bathRoom}">
								</h:inputText>
							</div>
							<div class="col-md-2 col-sm-12">
								<h:outputLabel value="Exact Value" style="color:white" />

								<span class="form-control search-checkbox"> <h:selectBooleanCheckbox
										value="#{indexController.bathRoomEq}" />
								</span>
							</div>
						</h:panelGroup>
					</h:panelGroup>
					<div class="col-md-1 col-sm-12">
						<h:commandButton action="#{indexController.search()}"
							value="#{bundle.search}"
							style=" background-color: #007ad9;color:white"
							styleClass="btn mt-3">
							<f:ajax execute="myForm:panelSearchBar"
								render="myForm:propertyListId :messageScript" />
						</h:commandButton>
					</div>

				</div>
			</div>
		</h:panelGroup>
	</ui:define>

	<ui:define name="property-content">
		<div class="container-xxl py-5">
			<div class="container">
				<div class="tab-content">
					<div id="tab-1" class="tab-pane fade show p-0 active">
						<div class="row g-4">
							<div class="row g-0 gx-5 align-items-end">
								<div class="col-lg-6">
									<div class="text-start mx-auto mb-5 wow " data-wow-delay="0.1s">
										<h1 class="mb-3">#{bundle.properties_title}</h1>
										<p>#{bundle.properties_description}</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<h:panelGroup id="propertyListId">
			<div class="tab-content">
				<div id="tab-1" class="tab-pane fade show p-0 active">
					<div class="row g-4">
						<p:dataView var="real" value="#{indexController.lazyModel}"
							rows="6" lazy="true" paginator="true"
							rowsPerPageTemplate="6,12,16" paginatorPosition="bottom"
							widgetVar="realEstatesDataView"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							gridIcon="pi pi-th-large" listIcon="pi pi-bars">
							<p:dataViewGridItem>
								<div class="card flex justify-content-center">
									<div class="col-md-12 wow fadeInUp" data-wow-delay="0.1s">
										<div class="property-item rounded overflow-hidden">
											<div class="position-relative overflow-hidden">

												<h:commandLink action="#{indexController.navigate(real)}" styleClass="d-block h5 mb-2">
													<img class="img-fluid"
														src="/resources/makaan/img/#{real.images[0]}"
														alt="no photos" />
													<f:actionListener
														binding="#{indexController.addViewsAfterClick(real)}" />
												</h:commandLink>


												<div
													class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">#{real.postType.name}</div>
												<div
													class="bg-white rounded-top text-primary position-absolute start-0 bottom-0 mx-4 pt-1 px-3">#{real.tittle}</div>
											</div>
											<div class="p-4 pb-0">
												<h5 class="text-primary mb-3">$ #{real.price}</h5>
												<h:commandLink action="#{indexController.navigate(real)}"
													value="#{real.subTittle} me" styleClass="d-block h5 mb-2">
													<f:actionListener
														binding="#{indexController.addViewsAfterClick(real)}" />
												</h:commandLink>
												<p>
													<i class="fa fa-map-marker-alt text-primary me-2"></i>#{real.village.fullAddress()}
												</p>
											</div>
											<div class="d-flex border-top">
												<small class="flex-fill text-center border-end py-2">
													<h:outputLabel
														value="#{real.views}">
														<f:convertNumber pattern="#,###" />
														<i class=" fa fa-regular fa-eye text-primary" />
													</h:outputLabel>
												</small>
												
												 <small class="flex-fill text-center border-end py-2">
													<i class="fa fa-ruler-combined text-primary me-2" />
													#{real.space} #{bundle.real_state_distance}
												</small>

												<h:panelGroup
													rendered="#{indexController.hasRoomsAndBathRooms(real.postType)}">
													<small class="flex-fill text-center border-end py-2">
														<i class="fa fa-bed text-primary me-2" /> #{real.nbRoom}
														#{bundle.real_estate_rooms}
													</small>
													<small class="flex-fill text-center py-2"> <i
														class="fa fa-bath text-primary me-2" />
														#{real.nbBathRoom} #{bundle.real_estate_bathrooms}
													</small>

												</h:panelGroup>
												<h:panelGroup
													rendered="#{!indexController.hasRoomsAndBathRooms(real.postType)}">
													<small class="flex-fill text-center border-end py-2">
														<i class="fa fa-solid fa-road text-primary me-2" />#{bundle.real_estate_road}:
														<i
														class="text-primary #{real.road ? 'fas fa-check-circle' : 'fas fa-times-circle'}" />
													</small>
													<small class="flex-fill text-center py-2"> <i
														class="fa fa-solid fa-water text-primary me-2" />#{bundle.real_estate_water}:
														<i
														class="text-primary #{real.water ? 'fas fa-check-circle' : 'fas fa-times-circle'}" />
													</small>
												</h:panelGroup>
											</div>
										</div>
									</div>

								</div>
							</p:dataViewGridItem>

							<p:dataViewListItem>
								<h:panelGrid columns="3" style="width:100%" cellspacing="20">
									<p:outputPanel>
										<div class="row">
											<div class="col-md-4 ">
												<div class="position-relative overflow-hidden">
													<h:commandLink action="#{indexController.navigate(real)}" styleClass="d-block h5 mb-2">
														<img class="img-fluid"
															src="/resources/makaan/img/#{real.images[0]}"
															alt="no photos" />
														<f:actionListener
															binding="#{indexController.addViewsAfterClick(real)}" />
													</h:commandLink>
													<div
														class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">
														#{real.postType.name}</div>
												</div>
											</div>
											<div class="col-md-8 ">
												<div class="p-4 pb-0">
													<h5 class="text-primary mb-3">$ #{real.price}</h5>

													<h:commandLink action="#{indexController.navigate(real)}"
														value="#{real.subTittle} me" styleClass="d-block h5 mb-2">
														<f:actionListener
															binding="#{indexController.addViewsAfterClick(real)}" />
													</h:commandLink>

													<p>
														<i class="fa fa-map-marker-alt text-primary me-2"></i>#{real.village.fullAddress()}
													</p>
												</div>

												<div class="d-flex border-top">

												<small class="flex-fill text-center border-end py-2">
													<h:outputLabel
														value="#{real.views}">
														<f:convertNumber pattern="#,###" />
														<i class=" fa fa-regular fa-eye text-primary" />
													</h:outputLabel>
												</small>
												
													<small class="flex-fill text-center border-end py-2">
														<i class="fa fa-ruler-combined text-primary me-2" />
														#{real.space} #{bundle.real_state_distance}
													</small>

													<h:panelGroup
														rendered="#{indexController.hasRoomsAndBathRooms(real.postType)}">
														<small class="flex-fill text-center border-end py-2">
															<i class="fa fa-bed text-primary me-2" /> #{real.nbRoom}
															#{bundle.real_estate_rooms}
														</small>
														<small class="flex-fill text-center py-2"> <i
															class="fa fa-bath text-primary me-2" />
															#{real.nbBathRoom} #{bundle.real_estate_bathrooms}
														</small>

													</h:panelGroup>
													<h:panelGroup
														rendered="#{!indexController.hasRoomsAndBathRooms(real.postType)}">
														<small class="flex-fill text-center border-end py-2">
															<i class="fa fa-solid fa-road text-primary me-2" />#{bundle.real_estate_road}:
															<i
															class="text-primary #{real.road ? 'fas fa-check-circle' : 'fas fa-times-circle'}" />
														</small>
														<small class="flex-fill text-center py-2"> <i
															class="fa fa-solid fa-water text-primary me-2" />#{bundle.real_estate_water}:
															<i
															class="text-primary #{real.water ? 'fas fa-check-circle' : 'fas fa-times-circle'}" />
														</small>
													</h:panelGroup>
												</div>
											</div>
										</div>
									</p:outputPanel>
								</h:panelGrid>
							</p:dataViewListItem>
						</p:dataView>
					</div>
				</div>
			</div>
		</h:panelGroup>
	</ui:define>

	<ui:remove>
		<ui:define name="statistic-content">
			<div class="container-xxl py-5">
				<div class="container">
					<div class="text-center mx-auto mb-5 wow fadeInUp"
						data-wow-delay="0.1s" style="max-width: 600px;">
						<h1 class="mb-3">#{bundle.property_type}</h1>
						<p>#{bundle.property_type_description}</p>
					</div>
					<div class="row g-4">
						<div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
							<a class="cat-item d-block bg-light text-center rounded p-3"
								href="">
								<div class="rounded p-4">
									<div class="icon mb-3">
										<img class="img-fluid"
											src="/resources/makaan/img/icon-apartment.png" alt="Icon" />
									</div>
									<h6>#{bundle.appartment_sell}</h6>

									<h:outputText
										value="#{indexController.numberOfSellAppartments()}">
										<f:convertNumber pattern="#,###.##" />
									</h:outputText>

								</div>
							</a>
						</div>
						<div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
							<a class="cat-item d-block bg-light text-center rounded p-3"
								href="">
								<div class="rounded p-4">
									<div class="icon mb-3">
										<img class="img-fluid"
											src="/resources/makaan/img/icon-apartment.png" alt="Icon" />
									</div>
									<h6>#{bundle.appartment_rent}</h6>

									<h:outputText
										value="#{indexController.numberOfRentAppartments()}">
										<f:convertNumber pattern="#,###.##" />
									</h:outputText>

								</div>
							</a>
						</div>
						<div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
							<a class="cat-item d-block bg-light text-center rounded p-3"
								href="">
								<div class="rounded p-4">
									<div class="icon mb-3">
										<img class="img-fluid"
											src="/resources/makaan/img/icon-apartment.png" alt="Icon" />
									</div>
									<h6>#{bundle.land}</h6>

									<h:outputText value="#{indexController.numberOfLands()}">
										<f:convertNumber pattern="#,###.##" />
									</h:outputText>

								</div>
							</a>
						</div>

						<div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
							<a class="cat-item d-block bg-light text-center rounded p-3"
								href="">
								<div class="rounded p-4">
									<div class="icon mb-3">
										<img class="img-fluid"
											src="/resources/makaan/img/icon-apartment.png" alt="Icon" />
									</div>
									<h6>#{bundle.office_sell}</h6>

									<h:outputText value="#{indexController.numberOfSellOffices()}">
										<f:convertNumber pattern="#,###.##" />
									</h:outputText>

								</div>
							</a>
						</div>
						<div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
							<a class="cat-item d-block bg-light text-center rounded p-3"
								href="">
								<div class="rounded p-4">
									<div class="icon mb-3">
										<img class="img-fluid"
											src="/resources/makaan/img/icon-apartment.png" alt="Icon" />
									</div>
									<h6>#{bundle.office_rent}</h6>

									<h:outputText value="#{indexController.numberOfRentOffices()}">
										<f:convertNumber pattern="#,###.##" />
									</h:outputText>

								</div>
							</a>
						</div>

						<div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
							<a class="cat-item d-block bg-light text-center rounded p-3"
								href="">
								<div class="rounded p-4">
									<div class="icon mb-3">
										<img class="img-fluid"
											src="/resources/makaan/img/icon-apartment.png" alt="Icon" />
									</div>
									<h6>#{bundle.chalet}</h6>

									<h:outputText value="#{indexController.chaletList.size()}">
										<f:convertNumber pattern="#,###.##" />
									</h:outputText>

								</div>
							</a>
						</div>

					</div>
				</div>
			</div>
		</ui:define>
	</ui:remove>
</ui:composition>
</html>