<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:component>
	<div class="row p-3">
		<div class="col-12 md:col-4">
			<p:staticMessage severity="warn" summary="WARN"
				rendered="#{userPostCardController.chalet.postStatus == 'REFFUSED'}"
				detail="#{userPostCardController.chalet.reffuseCause}"
				style="width: 100%" />

			<p:staticMessage severity="warn" summary="WARN"
				rendered="#{userPostCardController.chalet.postStatus == 'TO_REVIEUX_BY_USER'}"
				detail="#{userPostCardController.chalet.reffuseCause}"
				style="width: 100%" />
		</div>

		<div class="col-md-3">
			<div class="form-group">
				<p:outputLabel class="control-label" for="nameId"
					value="#{bundle.chalet_name}">
				</p:outputLabel>
				<h:inputText id="nameId" label="#{bundle.chalet_name}"
					styleClass="form-control"
					value="#{userPostCardController.chalet.name}">
				</h:inputText>
				<h:message for="nameId" styleClass="error-message" />
			</div>
		</div>
		<div class="col-md-3 ">
			<h:outputLabel value="#{bundle.village}" styleClass="control-label" />
			<h:selectOneMenu id="villagechaletId"
				converter="omnifaces.SelectItemsConverter" styleClass="form-select"
				value="#{userPostCardController.chalet.village}">
				<f:selectItem itemLabel="#{bundle.village}" itemValue="" />
				<f:selectItems value="#{userPostCardController.villages}"
					var="option" itemLabel="#{languageController.locale eq 'en' ? option.name :option.nameAr}" itemValue="#{option}" />
				<f:ajax execute="@this" />
			</h:selectOneMenu>
		</div>
		<div class="col-md-3">
			<div class="form-group">
				<p:outputLabel class="control-label" for="weekdayId"
					value="#{bundle.chalet_weekdays}">
				</p:outputLabel>
				<p:inputNumber decimalPlaces="0" thousandSeparator="," minValue="0"
					maxValue="9999" id="weekdayId" label="#{bundle.chalet_weekdays}"
					required="true" styleClass="form-control"
					value="#{userPostCardController.chalet.weekdays}">
				</p:inputNumber>
				<h:message for="weekdayId" styleClass="error-message" />
			</div>
		</div>
		<div class="col-md-3">
			<div class="form-group">
				<p:outputLabel class="control-label" for="weekendId"
					value="#{bundle.chalet_weekenddays}">
				</p:outputLabel>
				<p:inputNumber decimalPlaces="0" thousandSeparator="," minValue="0"
					maxValue="9999" id="weekendId" label="#{bundle.chalet_weekenddays}"
					required="true" styleClass="form-control"
					value="#{userPostCardController.chalet.weekenddays}">
				</p:inputNumber>
				<h:message for="weekendId" styleClass="error-message" />
			</div>
		</div>
		<div class="col-md-3">
			<div class="form-group">
				<h:outputLabel value="#{bundle.chalet_chimney}"
					styleClass="control-label" for="chimneyId" />
				<div class="skin mt-2">
					<h:selectBooleanCheckbox style="height:20px;width:25px"
						label="#{bundle.chalet_chimney}" id="chimneyId"
						value="#{userPostCardController.chalet.chimney}">
					</h:selectBooleanCheckbox>
				</div>
			</div>
		</div>
		<div class="col-md-3">
			<div class="form-group">
				<h:outputLabel value="#{bundle.chalet_pool}"
					styleClass="control-label" for="poolId" />
				<div class="skin mt-2">
					<h:selectBooleanCheckbox style="height:20px;width:25px"
						label="#{bundle.chalet_pool}" id="poolId"
						value="#{userPostCardController.chalet.pool}">
					</h:selectBooleanCheckbox>
				</div>
			</div>
		</div>
		<div class="col-md-12">
			<p:remoteCommand name="rc"
				actionListener="#{userPostCardController.changeActiveIndex}"
				oncomplete="PF('chaletgalleriawgvar').show()" />
			<p:galleria widgetVar="chaletgalleriawgvar" rendered="#{userPostCardController.chalet.images.size() >0}"
				value="#{userPostCardController.chalet.images}" var="photo"
				numVisible="4" id="chaletGalleria"
				responsiveOptions="#{userPostCardController.responsiveOptions1}"
				circular="true" fullScreen="true" showItemNavigators="true"
				showThumbnails="false" style="max-width: 40%">
				<p:graphicImage styleClass="gallery-item mt-2"
					url="#{userPostCardController.fullUrl}#{photo}" alt="the photos"
					style="width: 100%; display: block" />
				<p:commandButton process="@this" value="#{bundle.delete}"
					onclick="closeGalleria();"
					action="#{userPostCardController.deleteChaletPhoto(photo)}"
					update="myForm:tabView:imagesChaletPhotos  myForm:tabView:chaletGalleria" />
			</p:galleria>

			<h:panelGroup id="imagesChaletPhotos">
				<p:commandButton
					rendered="#{userPostCardController.chalet.images.size() >0}"
					value="#{bundle.show_photos}" partialSubmit="true"
					styleClass="col-md-12" icon="pi pi-external-link"
					onclick="$('.navbar').addClass('hidden');PF('chaletgalleriawgvar').show();"
					process="@this" />
			</h:panelGroup>
		</div>
		<div class="col-md-12 mt-3">
			<h:form>
				<p:fileUpload id="uploadImageChalet" label="#{bundle.choose_photos}"
					listener="#{userPostCardController.handleFileUploadChalet}"
					mode="advanced" dragDropSupport="false" multiple="true"
					sizeLimit="3000000" fileLimit="10"
					allowTypes="/(\.|\/)(gif|jpe?g|png)$/">
				</p:fileUpload>
			</h:form>
		</div>
	</div>
	<div class="row p-3">
		<div class="col-md-12 mt-3">
			<div class="form-group">
				<h:commandLink value='#{bundle.save}' id="save_btn"
					action='#{userPostCardController.save()}'
					styleClass="btn btn-primary btn-save">
					<f:ajax render=":messageScript myForm:tabView:chalet"
						execute="myForm:tabView:chalet myForm:tabView:uploadImageChalet" />
					<i class="fa fa-save" />
				</h:commandLink>
			</div>
		</div>
	</div>
</ui:component>
</html>
