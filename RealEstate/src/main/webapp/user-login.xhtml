<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h5="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<title>Real Estate</title>
	<h:outputStylesheet name="front-end-template/bootstrap.min.css"
		library="css" />
	<h:outputStylesheet name="front-end-template/flex-slider.css"
		library="css" />
	<h:outputStylesheet name="front-end-template/font-awesome.css"
		library="css" />
	<h:outputStylesheet name="front-end-template/owl-carousel.css"
		library="css" />
	<h:outputStylesheet
		name="front-end-template/templatemo-art-factory.css" library="css" />

	<h:outputStylesheet name="admin-template/icons.css" library="css" />

	<h:outputStylesheet name="admin-template/metisMenu.min.css"
		library="css" />

	<h:outputStylesheet name="admin-template/style.css" library="css" />

	<h:outputStylesheet name="toggle/bootstrap-toggle.min.css"
		library="plugins" />
	<h:outputStylesheet name="pages/login-front-end.css" library="css" />

</h:head>
<h:body>

	<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '1504756280267313',
      status     : true, // check login status
      cookie     : true, // enable cookies to allow the server to access the session
      xfbml      : true  // parse XFBML
    });

    // Additional initialization code here

    
    
    showMe = function(response) {
      if (response.status !== 'connected') {
        div.innerHTML = '<em>Not Connected</em>';
      } else {
        FB.api('/me', function(response) {
          var i=0;
          var id =  '' ;
          for (var key in response) {

        	  
            i++;
     ///console.log(key);
     if(key === 'id'){
    	 id =response[key] ; 
    	 console.log(response[key]);
         }

    //console.log(response[key]);


          }
     
          remoteCommandAction([{name:'fbId',value:id}]);
        });
      }
    };



    
    FB.getLoginStatus(function(response) {
    
    FB.Event.subscribe('auth.authResponseChange', showMe);
    FB.Event.subscribe('auth.authResponseChange', console.log('change'));
    
  });


    
  };

 
 
  
  // Load the SDK Asynchronously
  (function(d){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all.js";
     ref.parentNode.insertBefore(js, ref);


     
   }(document));
</script>

	<o:onloadScript>
($('.toogle')).bootstrapToggle();
</o:onloadScript>
	<h:form styleClass="account-body accountbg" prependId="false"
		method="post">
		<div class="row vh-100 " style="margin-top: 0%">
			<div class="col-12 align-self-center">
				<div class="auth-page">
					<div class="card auth-card shadow-lg">
						<div class="card-body">
							<div class="px-3">
								<div class="text-center auth-logo-text">
									<h4 class="mt-0 mb-3 mt-5">Let's Get Started Real Estate</h4>
									<p class="text-muted mb-0" style="font-size: 16px;">Sign in
										to continue to Real Estate.</p>
								</div>
								<!--end auth-logo-text-->
								<div class="form-horizontal auth-form my-4"
									style="margin-top: 5% !important">
									<h:panelGroup id="login-form">
										<div class="form-group">
											<label for="username">Username </label>
											<div class="input-group mb-3">
												<span class="auth-form-icon"> <em
													class="dripicons-user"></em>
												</span>
												<h:inputText type="text"
													styleClass=" form-control #{component.valid ? '' :'error' } "
													id="username" required="true"
													value="#{loginController.userName}"
													h5:placeholder="Enter username"></h:inputText>
											</div>
											<h:message for="username" styleClass="error-message" />
										</div>
										<!--end form-group-->
										<div class="form-group">
											<label for="userpassword">Password</label>
											<div class="input-group mb-3">
												<span class="auth-form-icon"> <i
													class="dripicons-lock"></i>
												</span>

												<p:inputText h5:type="password"
													styleClass=" form-control #{component.valid ? '' :'error' } "
													value="#{loginController.passowrd}" required="true"
													id="userpassword" h5:placeholder="Enter password">
												</p:inputText>
											</div>
											<h:message for="userpassword" styleClass="error-message" />
										</div>
										<!--end form-group-->
										<div
											style="text-align: center; color: #da4453; font-weight: 600">
											<h:messages globalOnly="true" id="messages" layout="table"
												style="margin: auto;" />
										</div>
										<!--end form-group-->
									</h:panelGroup>
									<div class="form-group mb-0 row" style="margin-top: 1%">
										<div class="col-12 mt-2">
											<h:commandLink action="#{loginController.login()}"
												styleClass="btn btn-primary  btn-block waves-effect waves-light">
												Log In <i class="fas fa-sign-in-alt ml-1"></i>
												<f:ajax execute="login-form " render="messages login-form"></f:ajax>
											</h:commandLink>


											<div class="row" style="margin-top: 2%">
												<div class="fb-login-button" data-width="" data-size=""
													style="width: 25%" data-button-type="" data-layout=""
													data-auto-logout-link="false" data-use-continue-as="false"></div>

<p:remoteCommand process="@this  " name="remoteCommandAction"
									update=""
									actionListener="#{loginController.loginFb()}">

								</p:remoteCommand>
								
												
											</div>


											<div
												style="margin-top: 3%; display: flex; justify-content: center; align-items: center">
												<span
													style="font-size: 14px; font-weight: 400; margin-right: 10px;">Not
													registered yet? </span>
												<h:link outcome="signup"
													style=" text-decoration:underline !important;font-size:14px;color:rgb(0, 126, 168)">  Create account</h:link>

											</div>


										</div>
										<!--end col-->
									</div>






									<!--end form-group-->
								</div>
								<!--end form-->
							</div>
							<!--end /div-->


						</div>
						<!--end card-body-->
					</div>
					<!--end card-->
					<!--end account-social-->
				</div>
				<!--end auth-page-->
			</div>
			<!--end col-->
		</div>
		<footer>
		<div class="container">
			<div style="text-align: center">
				<div class="row">

					<div class="col-lg-12 col-md-12 col-sm-12">
						<p class="copyright">Copyright &copy; 2020 developed and
							designed by Mouhamad Ali Barakat</p>

						<p class="copyright">mouhamadalibarakat@hotmail.com</p>

					</div>
				</div>
			</div>
		</div>
		</footer>
		<!--end row-->
		<!-- End Log In page -->
	</h:form>
	<h:outputScript name="front-end-template/bootstrap.min.js" library="js" />
	<h:outputScript library="primefaces" name="jquery/jquery.js" />
	<h:outputScript name="metisMenu.min.js" library="js" />
	<h:outputScript name="waves.min.js" library="js" />
	<h:outputScript name="jquery.slimscroll.min.js" library="js" />
	<h:outputScript name="front-end-template/bootstrap.min.js" library="js" />
	<h:outputScript name="front-end-template/imgfix.min.js" library="js" />
	<h:outputScript name="front-end-template/jquery.counterup.min.js"
		library="js" />
	<h:outputScript name="front-end-template/owl-carousel.js" library="js" />
	<h:outputScript name="front-end-template/popper.js" library="js" />
	<h:outputScript name="front-end-template/scrollreveal.min.js"
		library="js" />
	<h:outputScript name="front-end-template/custom.js" library="js" />
	<h:outputScript name="toggle/bootstrap-toggle.min.js" library="plugins" />
</h:body>
</html>
